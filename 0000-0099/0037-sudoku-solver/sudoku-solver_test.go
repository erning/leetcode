package solution

import (
	"fmt"
	"testing"
)

func TestSolveSudoku(t *testing.T) {
	tf := func(s string) {
		board := &Board{}
		board.LoadString(s)
		fmt.Printf("%v\n", board)
		step := 0
		board.Solve(func() {
			step++
		})
		fmt.Printf("%v\n", step)
		fmt.Printf("%v\n", board)
		fmt.Printf("\n")
	}

	tf(`[
		[".",".","9","7","4","8",".",".","."],
		["7",".",".",".",".",".",".",".","."],
		[".","2",".","1",".","9",".",".","."],
		[".",".","7",".",".",".","2","4","."],
		[".","6","4",".","1",".","5","9","."],
		[".","9","8",".",".",".","3",".","."],
		[".",".",".","8",".","3",".","2","."],
		[".",".",".",".",".",".",".",".","6"],
		[".",".",".","2","7","5","9",".","."]]
	`)

	tf(`
	  5 3 . | . 7 . | . . .
	  6 . . | 1 9 5 | . . .
	  . 9 8 | . . . | . 6 .
	 -------+-------+-------
	  8 . . | . 6 . | . . 3
	  4 . . | 8 . 3 | . . 1
	  7 . . | . 2 . | . . 6
	 -------+-------+-------
	  . 6 . | . . . | 2 8 .
	  . . . | 4 1 9 | . . 5
	  . . . | . 8 . | . 7 9
	`)

	tf("7....15.9 2..4...8. .....8.47 ...5..8.1 .6.28..74 .......3. ...9.2... 4.57.6.......5...2")

	// hard
	tf(`
	850 002 400
	720 000 009
	004 000 000
	000 107 002
	305 000 900
	040 000 000
	000 080 070
	017 000 000
	000 036 040
	`)
	// diff
	tf(`
	005 300 000
	800 000 020
	070 010 500
	400 005 300
	010 070 006
	003 200 080
	060 500 009
	004 000 030
	000 009 700
	`)
}
